
@{
    ViewData["Title"] = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutBackend.cshtml";
}


<!-- Page Header -->
<div class="d-md-flex d-block align-items-center justify-content-between my-4 page-header-breadcrumb">
    <div>
        <h4 class="mb-0">Hi, welcome back!</h4>
        <p class="mb-0 text-muted">Sales monitoring dashboard template.</p>
    </div>
    <div class="main-dashboard-header-right">
        <div>
            <label class="fs-13 text-muted">Customer Ratings</label>
            <div class="main-star">
                <i class="bi bi-star-fill fs-13 text-warning"></i>
                <i class="bi bi-star-fill fs-13 text-warning"></i>
                <i class="bi bi-star-fill fs-13 text-warning"></i>
                <i class="bi bi-star-fill fs-13 text-warning"></i>
                <i class="bi bi-star-fill fs-13 text-muted op-8"></i> <span>(14,873)</span>
            </div>
        </div>
        <div>
            <label class="fs-13 text-muted">Online Sales</label>
            <h5 class="mb-0 fw-semibold">563,275</h5>
        </div>
        <div>
            <label class="fs-13 text-muted">Offline Sales</label>
            <h5 class="mb-0 fw-semibold">783,675</h5>
        </div>
    </div>
</div>
<!-- End Page Header -->

<!-- row -->
<div class="row">
    <div class="col-xl-3 col-lg-6 col-md-6 col-xm-12">
        <div class="card overflow-hidden sales-card bg-primary-gradient">
            <div class="px-3 pt-3  pb-2 pt-0">
                <div>
                    <h6 class="mb-3 fs-12 text-fixed-white">Total ORDERS</h6>
                </div>
                <div class="pb-0 mt-0">
                    <div class="d-flex">
                        <div>
                            <h4 class="fs-20 fw-bold mb-1 text-fixed-white">@ViewBag.Order</h4>
                        
                        </div>

                    </div>
                </div>
            </div>
            <div id="compositeline"></div>
        </div>
    </div>
    <div class="col-xl-3 col-lg-6 col-md-6 col-xm-12">
        <div class="card overflow-hidden sales-card bg-danger-gradient">
            <div class="px-3 pt-3  pb-2 pt-0">
                <div>
                    <h6 class="mb-3 fs-12 text-fixed-white">Total monthly revenue</h6>
                </div>
                <div class="pb-0 mt-0">
                    <div class="d-flex">
                        <div>
                            <h4 class="fs-20 fw-bold mb-1 text-fixed-white">$@ViewBag.Earning</h4>
                           
                        </div>
                     
                    </div>
                </div>
            </div>
            <div id="compositeline2"></div>
        </div>
    </div>
    <div class="col-xl-3 col-lg-6 col-md-6 col-xm-12">
        <div class="card overflow-hidden sales-card bg-success-gradient">
            <div class="px-3 pt-3  pb-2 pt-0">
                <div>
                    <h6 class="mb-3 fs-12 text-fixed-white">TOTAL Product</h6>
                </div>
                <div class="pb-0 mt-0">
                    <div class="d-flex">
                        <div>
                            <h4 class="fs-20 fw-bold mb-1 text-fixed-white">@ViewBag.Product</h4>
                           
                        </div>
                       
                    </div>
                </div>
            </div>
            <div id="compositeline3"></div>
        </div>
    </div>
    <div class="col-xl-3 col-lg-6 col-md-6 col-xm-12">
        <div class="card overflow-hidden sales-card bg-warning-gradient">
            <div class="px-3 pt-3  pb-2 pt-0">
                <div>
                    <h6 class="mb-3 fs-12 text-fixed-white">Total Category</h6>
                </div>
                <div class="pb-0 mt-0">
                    <div class="d-flex">
                        <div>
                            <h4 class="fs-20 fw-bold mb-1 text-fixed-white">@ViewBag.Category</h4>
                          
                        </div>
                      
                    </div>
                </div>
            </div>
            <div id="compositeline4"></div>
        </div>
    </div>
</div>
<!-- row closed -->

<!-- row opened -->
<div class="row">
    <div class="col-md-12 col-lg-12 col-xl-7" style="width:120%">
        <div class="card">
            <div class="card-header pb-0">
                <div class="d-flex justify-content-between">
                    <h4 class="card-title mb-0">Order status</h4>
                    <div>
                        @functions {
                            public string IsSelected(int optionValue, int currentValue)
                            {
                                return optionValue == currentValue ? "selected" : "";
                            }
                        }

                       
                        
                        
                    </div>
                   
            
           
        </div>
    </div>
            <label for="month">Select Month:</label>
            <select id="month" name="month" class="form-select">
                @for (int i = 1; i <= 12; i++)
                {
                    <option value="@i" selected="@IsSelected(i, ViewBag.CurrentMonth)">Month @i</option>
                }
            </select>
            <button type="button" id="viewBtn">View</button>

            <div>
                <canvas id="myChart" width="400" height="400"></canvas>
            </div>
    
</div>
        <div class="row">
            <div class="col-md-12 col-lg-12 col-xl-7" style="width:120%">
                <div class="card">
                    <div class="card-header pb-0">
                        <div class="d-flex justify-content-between">
                            <h4 class="card-title mb-0">Order status</h4>
                            <div>
                               




                            </div>



                        </div>
                    </div>



                    <div>
                        <canvas id="revenueChart" width="800" height="400"></canvas>
                 
                    </div>
                </div>
<!-- row closed -->

<!-- row opened -->
<div class="row">
    <div class="col-xl-4 col-md-12 col-lg-12">
        <div class="card overflow-hidden">
            <div class="card-header pb-1">
                <h3 class="card-title mb-2">Recent Customers</h3>
                <p class="fs-12 mb-0 text-muted">A customer is an individual or business that purchases the goods service has evolved to include real-time</p>
            </div>
            <div class="card-body p-0 customers mt-1">
                        <table id="file-export" class="table table-bordered text-nowrap w-100">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                 
                                    <th>Price</th>
                                    <th>Image</th>
                                   

                                </tr>
                            </thead>
                            @foreach (var top in ViewBag.TopProducts)
                            {
                                <tr>
                                    <td>@top.Name</td>
                                    <td>@top.Price</td>
                                    <td><img src="~/media/products/@top.Image" width="120px" height="150px" /></td>
                                </tr>
                            }
                            <tbody>

                               
                            </tbody>
                        </table>
            </div>
        </div>
    </div>
    <div class="col-xl-4 col-md-12 col-lg-6">
        <div class="card">
            <div class="card-header pb-1">
                <h3 class="card-title mb-2">Sales Activity</h3>
                <p class="fs-12 mb-0 text-muted">Sales activities are the tactics that salespeople use to achieve their goals and objective</p>
            </div>
            <div class="product-timeline card-body pt-2 mt-1">
                <ul class="timeline-1 mb-0">
                    <li class="mt-0">
                        <i class="fe fe-pie-chart bg-primary-gradient text-fixed-white product-icon"></i> <span class="fw-medium mb-4 fs-14">Total Products</span> <a href="javascript:void(0);" class="float-end fs-11 text-muted">3 days ago</a>
                        <p class="mb-0 text-muted fs-12">1.3k New Products</p>
                    </li>
                    <li class="mt-0">
                        <i class="fe fe-shopping-cart bg-danger-gradient text-fixed-white product-icon"></i> <span class="fw-medium mb-4 fs-14">Total Sales</span> <a href="javascript:void(0);" class="float-end fs-11 text-muted">35 mins ago</a>
                        <p class="mb-0 text-muted fs-12">1k New Sales</p>
                    </li>
                    <li class="mt-0">
                        <i class="fe fe-bar-chart bg-success-gradient text-fixed-white product-icon"></i> <span class="fw-medium mb-4 fs-14">Total Revenue</span> <a href="javascript:void(0);" class="float-end fs-11 text-muted">50 mins ago</a>
                        <p class="mb-0 text-muted fs-12">23.5K New Revenue</p>
                    </li>
                    <li class="mt-0">
                        <i class="fe fe-box bg-warning-gradient text-fixed-white product-icon"></i> <span class="fw-medium mb-4 fs-14">Total Profit</span> <a href="javascript:void(0);" class="float-end fs-11 text-muted">1 hour ago</a>
                        <p class="mb-0 text-muted fs-12">3k New profit</p>
                    </li>
                    <li class="mt-0">
                        <i class="fe fe-eye bg-purple-gradient text-fixed-white product-icon"></i> <span class="fw-medium mb-4 fs-14">Customer Visits</span> <a href="javascript:void(0);" class="float-end fs-11 text-muted">1 day ago</a>
                        <p class="mb-0 text-muted fs-12">15% increased</p>
                    </li>
                    <li class="mt-0 mb-0">
                        <i class="fe fe-edit bg-primary-gradient text-fixed-white product-icon"></i> <span class="fw-medium mb-4 fs-14">Customer Reviews</span> <a href="javascript:void(0);" class="float-end fs-11 text-muted">1 day ago</a>
                        <p class="mb-0 text-muted fs-12">1.5k reviews</p>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-xl-4 col-md-12 col-lg-6">
        <div class="card">
            <div class="card-header pb-0">
                <h3 class="card-title mb-2">Recent Orders</h3>
                <p class="fs-12 mb-0 text-muted">An order is an investor's instructions to a broker or brokerage firm to purchase or sell</p>
            </div>
            <div class="card-body sales-info pb-0 pt-0">
                <div id="chart" class="ht-150"></div>
                <div class="row sales-infomation pb-0 mb-0 mx-auto w-100">
                    <div class="col-md-6 col">
                        <p class="mb-0 d-flex"><span class="legend bg-primary brround"></span>Delivered</p>
                        <h3 class="mb-1">5238</h3>
                        <div class="d-flex">
                            <p class="text-muted ">Last 6 months</p>
                        </div>
                    </div>
                    <div class="col-md-6 col">
                        <p class="mb-0 d-flex"><span class="legend bg-info brround"></span>Cancelled</p>
                        <h3 class="mb-1">3467</h3>
                        <div class="d-flex">
                            <p class="text-muted">Last 6 months</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card ">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="d-flex align-items-center pb-2">
                            <p class="mb-0">Total Sales</p>
                        </div>
                        <h4 class="fw-bold mb-2">$7,590</h4>
                        <div class="progress progress-style progress-sm">
                            <div class="progress-bar bg-primary-gradient" style="width: 80%" role="progressbar" aria-valuenow="78" aria-valuemin="0" aria-valuemax="78"></div>
                        </div>
                    </div>
                    <div class="col-md-6 mt-4 mt-md-0">
                        <div class="d-flex align-items-center pb-2">
                            <p class="mb-0">Active Users</p>
                        </div>
                        <h4 class="fw-bold mb-2">$5,460</h4>
                        <div class="progress progress-style progress-sm">
                            <div class="progress-bar bg-danger-gradient" style="width: 45%" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="45"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- row close -->

<!-- row opened -->
<div class="row">
    <div class="col-md-12 col-lg-4 col-xl-4">
        <div class="card top-countries-card">
            <div class="card-header p-0">
                <h6 class="card-title fs-13 mb-2">Your Top Countries</h6><span class="d-block mg-b-10 text-muted fs-12 mb-2">Sales performance revenue based by country</span>
            </div>
            <div class="list-group border">
                <div class="list-group-item border-top-0" id="br-t-0">
                    <p>United States</p><span>$1,671.10</span>
                </div>
                <div class="list-group-item">
                    <p>Netherlands</p><span>$1,064.75</span>
                </div>
                <div class="list-group-item">
                    <p>United Kingdom</p><span>$1,055.98</span>
                </div>
                <div class="list-group-item">
                    <p>Canada</p><span>$1,045.49</span>
                </div>
                <div class="list-group-item">
                    <p>India</p><span>$1,930.12</span>
                </div>
                <div class="list-group-item border-bottom-0 mb-0">
                    <p>Australia</p><span>$1,042.00</span>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-12 col-lg-8 col-xl-8">
        <div class="card card-table">
            <div class=" card-header p-0 d-flex justify-content-between">
                <h4 class="card-title mb-1">Your Most Recent Earnings</h4>
                <a href="javascript:void(0);" class="btn btn-icon btn-sm btn-light bg-transparent rounded-pill" data-bs-toggle="dropdown">
                    <i class="fe fe-more-horizontal"></i>
                </a>
                <div class="dropdown-menu">
                    <a class="dropdown-item" href="javascript:void(0);">Action</a>
                    <a class="dropdown-item" href="javascript:void(0);">
                        Another
                        Action
                    </a>
                    <a class="dropdown-item" href="javascript:void(0);">
                        Something Else
                        Here
                    </a>
                </div>
            </div>
            <span class="fs-12 text-muted mb-3 ">This is your most recent earnings for today's date.</span>
            <div class="table-responsive country-table">
                <table class="table table-striped table-bordered mb-0 text-nowrap">
                    <thead>
                        <tr>
                            <th class="wd-lg-25p">Date</th>
                            <th class="wd-lg-25p">Sales Count</th>
                            <th class="wd-lg-25p">Earnings</th>
                            <th class="wd-lg-25p">Tax Witheld</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>05 Dec 2019</td>
                            <td class="fw-medium">34</td>
                            <td class="fw-medium">$658.20</td>
                            <td class="text-danger fw-medium">-$45.10</td>
                        </tr>
                        <tr>
                            <td>06 Dec 2019</td>
                            <td class="fw-medium">26</td>
                            <td class="fw-medium">$453.25</td>
                            <td class="text-danger fw-medium">-$15.02</td>
                        </tr>
                        <tr>
                            <td>07 Dec 2019</td>
                            <td class="fw-medium">34</td>
                            <td class="fw-medium">$653.12</td>
                            <td class="text-danger fw-medium">-$13.45</td>
                        </tr>
                        <tr>
                            <td>08 Dec 2019</td>
                            <td class="fw-medium">45</td>
                            <td class="fw-medium">$546.47</td>
                            <td class="text-danger fw-medium">-$24.22</td>
                        </tr>
                        <tr>
                            <td>09 Dec 2019</td>
                            <td class="fw-medium">31</td>
                            <td class="fw-medium">$425.72</td>
                            <td class="text-danger fw-medium">-$25.01</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
       @section scripts{
           <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

            <script>
                $(document).ready(function () {
                    $('#viewBtn').click(function () {
                        // Dữ liệu mẫu số lượng đơn hàng theo tháng
                        var sampleData = {
                            "January": 120,
                            "February": 150,
                            "March": 180,
                            "April": 100,
                            "May": 200,
                            "June": 220,
                            "July": 180,
                            "August": 250,
                            "September": 200,
                            "October": 150,
                            "November": 170,
                            "December": 190
                        };

                        // Gọi hàm vẽ biểu đồ với dữ liệu mẫu
                        drawChart(sampleData);
                    });

                    function drawChart(data) {
                        // Lấy context của canvas để vẽ biểu đồ
                        var ctx = document.getElementById('myChart').getContext('2d');

                        // Xóa biểu đồ cũ nếu có
                        if (window.myChart !== undefined)
                            window.myChart.destroy();

                        // Tạo biểu đồ mới
                        window.myChart = new Chart(ctx, {
                            type: 'bar', // Loại biểu đồ (bar chart)
                            data: {
                                labels: Object.keys(data), // Nhãn trục x (tháng)
                                datasets: [{
                                    label: 'Monthly Order Count', // Nhãn cho dataset
                                    data: Object.values(data), // Dữ liệu của biểu đồ (số lượng đơn hàng)
                                    backgroundColor: 'rgba(54, 162, 235, 0.2)', // Màu nền của cột
                                    borderColor: 'rgba(54, 162, 235, 1)', // Màu viền của cột
                                    borderWidth: 1 // Độ dày của viền
                                }]
                            },
                            options: {
                                scales: {
                                    y: {
                                        beginAtZero: true // Bắt đầu trục y từ giá trị 0
                                    }
                                }
                            }
                        });
                    }
                });
            </script>

       }

<!-- /row -->